(function(t){function e(e){for(var r,c,o=e[0],i=e[1],u=e[2],f=0,d=[];f<o.length;f++)c=o[f],a[c]&&d.push(a[c][0]),a[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},s=[];function c(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"042e4233","chunk-2d0ccbf6":"7c7a03e0","chunk-2d0cef14":"03362f5a","chunk-2d0e9752":"46aa1636","chunk-2d2086b7":"48b47156","chunk-2d21061c":"3f000b17"}[t]+".js"}function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise(function(e,r){n=a[t]=[e,r]});e.push(n[2]=r);var s,i=document.createElement("script");i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.src=c(t),s=function(e){i.onerror=i.onload=null,clearTimeout(u);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src,c=new Error("Loading chunk "+t+" failed.\n("+r+": "+s+")");c.type=r,c.request=s,n[1](c)}a[t]=void 0}};var u=setTimeout(function(){s({type:"timeout",target:i})},12e4);i.onerror=i.onload=s,document.head.appendChild(i)}return Promise.all(e)},o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var f=0;f<i.length;f++)e(i[f]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0229":function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return f});n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),a=(n("96cf"),n("3b8d")),s=n("b775");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){Object(r["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function i(t){return u.apply(this,arguments)}function u(){return u=Object(a["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.loginname,r=e.accesstoken,t.abrupt("return",Object(s["a"])("/api/v1/user/".concat(n),{method:"get",data:{accesstoken:r}}));case 2:case"end":return t.stop()}},t)})),u.apply(this,arguments)}function f(t){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])("/api/v1/accesstoken",{method:"post",data:o({},e)}));case 1:case"end":return t.stop()}},t)})),l.apply(this,arguments)}},"034f":function(t,e,n){"use strict";var r=n("64a9"),a=n.n(r);a.a},"16f5":function(t,e,n){"use strict";var r=n("2019"),a=n.n(r);a.a},"19ef":function(t,e,n){},2019:function(t,e,n){},3851:function(t,e,n){"use strict";var r=n("19ef"),a=n.n(r);a.a},"56d7":function(t,e,n){"use strict";n.r(e);var r=n("6161"),a=n.n(r),s=n("3d09"),c=n.n(s),o=n("fb24"),i=n.n(o),u=n("cf22"),f=n.n(u),l=(n("3653"),n("227b")),d=n.n(l),p=(n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("nav-bar",{attrs:{items:t.navbarItems,search:t.searchClick}}),n("router-view")],1)},j=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-bar"},[n("div",{staticClass:"left"},[n("img",{staticClass:"brand",attrs:{src:"/cnodejs_light.svg",alt:"icon"}}),n("input",{attrs:{type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e.target.value)}}})]),n("div",{staticClass:"right"},[n("div",{staticClass:"routers"},t._l(t.items,function(e){return n("router-link",{key:e.id,attrs:{to:e.link}},[t._v("\n        "+t._s(e.text)+"\n      ")])}),1)])])},m=[],v={name:"NavBar",props:{items:{type:Array,required:!0},search:{type:Function,required:!0}}},g=v,y=(n("16f5"),n("2877")),k=Object(y["a"])(g,h,m,!1,null,"966897b2",null),O=k.exports,w={components:{NavBar:O},computed:{isLogin:function(){return this.$store.state.userInfo&&this.$store.state.accessToken},navbarItems:function(){var t=[];return t.push({id:1,text:"首页",link:"/"}),this.isLogin&&t.push({id:2,text:"未读消息",link:"/my/message"}),t.push({id:3,text:"新手入门",link:"/getstart"}),t.push({id:4,text:"API",link:"/api"}),t.push({id:5,text:"关于",link:"/about"}),this.isLogin||t.push({id:6,text:"登录",link:"/login"}),this.isLogin&&(t.push({id:6,text:"设置",link:"/setting"}),t.push({id:7,text:"退出",link:"/logout"})),t}},methods:{searchClick:function(t){window.open("https://www.google.com/search?hl=zh-CN&q=site:cnodejs.org+".concat(t))}}},_=w,x=(n("034f"),Object(y["a"])(_,b,j,!1,null,null,null)),P=x.exports,C=(n("6762"),n("8c4f")),z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"main"},[n("div",{staticClass:"tabs"},t._l(t.tabs,function(e,r){return n("router-link",{key:r,class:{current:e.tab===t.tab,tab:!0},attrs:{to:"/?tab="+e.tab},nativeOn:{click:function(n){return n.preventDefault(),t.tabClick(e.tab)}}},[t._v("\n        "+t._s(e.text)+"\n      ")])}),1),n("div",{staticClass:"topics"},t._l(t.topics,function(e,r){return n("topic-item",t._b({key:r},"topic-item",e,!1))}),1)]),n("div",{staticClass:"right-side"})])},$=[],E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topic-item"},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:t.author.avatar_url,alt:t.author.loginname}})]),n("span",{staticClass:"count"},[n("span",{staticClass:"replay"},[t._v(t._s(t.reply_count))]),t._v(t._s("/"+t.visit_count))]),t.top?n("div",{staticClass:"top"},[t._v("置顶")]):t.good?n("div",{staticClass:"good"},[t._v("精华")]):n("div",{staticClass:"tab"},[t._v(t._s(t.tabName))]),n("div",{staticClass:"title"},[t._v(t._s(t.title))]),n("div",{staticClass:"from-now"},[t._v(t._s(t.fromNow))])])},T=[],D=n("6bf2"),S=n.n(D);S.a.locale("zh-cn");var I={name:"TopicItem",props:["id","author_id","tab","content","title","last_reply_at","good","top","reply_count","visit_count","create_at","author"],computed:{fromNow:function(){return S()(this.create_at).fromNow()},tabName:function(){var t={ask:"问答",share:"分享",job:"招聘",dev:"客户端测试"};return t[this.tab]}}},R=I,q=(n("3851"),Object(y["a"])(R,E,T,!1,null,"27f8fafa",null)),N=q.exports,L=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),M=(n("96cf"),n("3b8d")),A=n("b775");function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(n,!0).forEach(function(e){Object(L["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function F(t){return G.apply(this,arguments)}function G(){return G=Object(M["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(A["a"])("/api/v1/topics",{method:"get",params:B({page:0,tab:"all",limit:40,mdrender:!0},e)}));case 1:case"end":return t.stop()}},t)})),G.apply(this,arguments)}var J={name:"home",data:function(){return{tab:this.$route.query.tab||"all",page:0,limit:40,tabs:[{id:1,text:"全部",tab:"all"},{id:1,text:"精华",tab:"good"},{id:1,text:"分享",tab:"share"},{id:1,text:"问答",tab:"ask"},{id:1,text:"招聘",tab:"job"},{id:1,text:"客户端测试",tab:"dev"}],topics:[]}},created:function(){this.$route.query.tab&&(this.tab=this.$route.query.tab),this.loadTopics()},components:{TopicItem:N},methods:{tabClick:function(t){this.tab=t,this.loadTopics()},pageClick:function(t){this.page=t},loadTopics:function(){var t=this,e=this.$loading({fullscreen:!0});F({tab:this.tab,page:this.page,limit:this.limit}).then(function(n){if(e.close(),n.success)return t.topics=n.data;t.$notify({type:"error",title:n.errMsg||"请求失败"})}).catch(function(n){e.close(),t.$notify({type:"error",title:"加载失败",message:n.message})})}}},H=J,K=(n("c03a"),Object(y["a"])(H,z,$,!1,null,"2f0687cc",null)),Q=K.exports;p["default"].use(C["a"]);var V=new C["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:Q},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/getstart",name:"getstart",component:function(){return n.e("chunk-2d21061c").then(n.bind(null,"b83c"))}},{path:"/api",name:"api",component:function(){return n.e("chunk-2d0cef14").then(n.bind(null,"6235"))}},{path:"/login",name:"login",component:function(){return n.e("chunk-2d2086b7").then(n.bind(null,"a55b"))}},{path:"/setting",name:"setting",component:function(){return n.e("chunk-2d0ccbf6").then(n.bind(null,"4ef5"))}},{path:"/my/message",name:"message",component:function(){return n.e("chunk-2d0e9752").then(n.bind(null,"8e2a"))}}]});V.beforeEach(function(t,e,n){var r=V.app.$options.store.getters.isLogin;if(r)return n();var a=["/my/message","/setting"];if(!a.includes(t.path))return n();n({path:"/login",name:"login",replace:!0})});var W=V,X=(n("2014"),n("ab12"),n("8bff"),n("2f62")),Y=n("0229");p["default"].use(X["a"]);var Z=new X["a"].Store({state:{userInfo:null,accessToken:null},getters:{isLogin:function(t){return t.userInfo&&t.accessToken}},mutations:{updateUserInfo:function(t,e){t.userInfo=e},updateAccessToken:function(t,e){t.accessToken=e}},actions:{login:function(){var t=Object(M["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=n.token,s=f.a.service({fullscreen:!0}),t.prev=3,t.next=6,Object(Y["a"])({accesstoken:a});case 6:o=t.sent,r("updateUserInfo",o),r("updateAccessToken",a),s.close(),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](3),s.close(),c()({title:"登录失败",message:t.t0.message||"token 错误",type:"error"});case 16:case"end":return t.stop()}},t,null,[[3,12]])}));function e(e,n){return t.apply(this,arguments)}return e}()}});p["default"].use(d.a,{size:"small",zIndex:3e3}),p["default"].prototype.$loading=f.a.service,p["default"].prototype.$msgbox=i.a,p["default"].prototype.$alert=i.a.alert,p["default"].prototype.$confirm=i.a.confirm,p["default"].prototype.$prompt=i.a.prompt,p["default"].prototype.$notify=c.a,p["default"].prototype.$message=a.a,p["default"].config.productionTip=!1,new p["default"]({router:W,store:Z,render:function(t){return t(P)}}).$mount("#app")},"64a9":function(t,e,n){},"77d2":function(t,e,n){var r={"./af":"fbac","./af.js":"fbac","./ar":"f96f","./ar-dz":"e63c","./ar-dz.js":"e63c","./ar-kw":"b7bd","./ar-kw.js":"b7bd","./ar-ly":"968f","./ar-ly.js":"968f","./ar-ma":"9f9d","./ar-ma.js":"9f9d","./ar-sa":"aea5","./ar-sa.js":"aea5","./ar-tn":"d44b","./ar-tn.js":"d44b","./ar.js":"f96f","./az":"c7ed","./az.js":"c7ed","./be":"5a28","./be.js":"5a28","./bg":"1251","./bg.js":"1251","./bm":"2809","./bm.js":"2809","./bn":"b4fc","./bn.js":"b4fc","./bo":"5484","./bo.js":"5484","./br":"5adc","./br.js":"5adc","./bs":"ac10","./bs.js":"ac10","./ca":"e381","./ca.js":"e381","./cs":"aef2","./cs.js":"aef2","./cv":"6566","./cv.js":"6566","./cy":"1390","./cy.js":"1390","./da":"1ece","./da.js":"1ece","./de":"5f10","./de-at":"09c4","./de-at.js":"09c4","./de-ch":"89a2","./de-ch.js":"89a2","./de.js":"5f10","./dv":"e662","./dv.js":"e662","./el":"196b","./el.js":"196b","./en-SG":"0a32","./en-SG.js":"0a32","./en-au":"94ed","./en-au.js":"94ed","./en-ca":"2806","./en-ca.js":"2806","./en-gb":"b0dd","./en-gb.js":"b0dd","./en-ie":"7a6e","./en-ie.js":"7a6e","./en-il":"1f0f","./en-il.js":"1f0f","./en-nz":"1606","./en-nz.js":"1606","./eo":"f214","./eo.js":"f214","./es":"7d58","./es-do":"737b","./es-do.js":"737b","./es-us":"a894","./es-us.js":"a894","./es.js":"7d58","./et":"a888","./et.js":"a888","./eu":"1357","./eu.js":"1357","./fa":"0a48","./fa.js":"0a48","./fi":"c2b1","./fi.js":"c2b1","./fo":"52c4","./fo.js":"52c4","./fr":"04e6","./fr-ca":"6ad1","./fr-ca.js":"6ad1","./fr-ch":"b12f","./fr-ch.js":"b12f","./fr.js":"04e6","./fy":"ad13","./fy.js":"ad13","./ga":"369e","./ga.js":"369e","./gd":"22de","./gd.js":"22de","./gl":"f808","./gl.js":"f808","./gom-latn":"50d5","./gom-latn.js":"50d5","./gu":"e67a","./gu.js":"e67a","./he":"037c","./he.js":"037c","./hi":"3d53","./hi.js":"3d53","./hr":"678b","./hr.js":"678b","./hu":"1783","./hu.js":"1783","./hy-am":"2873","./hy-am.js":"2873","./id":"de99","./id.js":"de99","./is":"6aa2","./is.js":"6aa2","./it":"1f93","./it-ch":"2db9","./it-ch.js":"2db9","./it.js":"1f93","./ja":"6bf8","./ja.js":"6bf8","./jv":"6e55","./jv.js":"6e55","./ka":"e65f","./ka.js":"e65f","./kk":"7167","./kk.js":"7167","./km":"4668","./km.js":"4668","./kn":"e3d2","./kn.js":"e3d2","./ko":"b058","./ko.js":"b058","./ku":"017e","./ku.js":"017e","./ky":"b2bd","./ky.js":"b2bd","./lb":"e50c","./lb.js":"e50c","./lo":"ca14","./lo.js":"ca14","./lt":"3e84","./lt.js":"3e84","./lv":"ce1d","./lv.js":"ce1d","./me":"9d38","./me.js":"9d38","./mi":"3e2e","./mi.js":"3e2e","./mk":"d532","./mk.js":"d532","./ml":"db61","./ml.js":"db61","./mn":"7493","./mn.js":"7493","./mr":"52d8","./mr.js":"52d8","./ms":"b559","./ms-my":"7462","./ms-my.js":"7462","./ms.js":"b559","./mt":"c055","./mt.js":"c055","./my":"49e0","./my.js":"49e0","./nb":"eb1c","./nb.js":"eb1c","./ne":"0acb","./ne.js":"0acb","./nl":"7497","./nl-be":"3114","./nl-be.js":"3114","./nl.js":"7497","./nn":"9a9c","./nn.js":"9a9c","./pa-in":"c595","./pa-in.js":"c595","./pl":"801c","./pl.js":"801c","./pt":"5b08","./pt-br":"155f","./pt-br.js":"155f","./pt.js":"5b08","./ro":"05fc","./ro.js":"05fc","./ru":"90b3","./ru.js":"90b3","./sd":"99bf","./sd.js":"99bf","./se":"20d6","./se.js":"20d6","./si":"7c0b","./si.js":"7c0b","./sk":"90fc","./sk.js":"90fc","./sl":"871b","./sl.js":"871b","./sq":"b045","./sq.js":"b045","./sr":"ac81","./sr-cyrl":"a2d0","./sr-cyrl.js":"a2d0","./sr.js":"ac81","./ss":"b093","./ss.js":"b093","./sv":"12e5","./sv.js":"12e5","./sw":"38a0","./sw.js":"38a0","./ta":"a462","./ta.js":"a462","./te":"18cb","./te.js":"18cb","./tet":"0c11","./tet.js":"0c11","./tg":"d707","./tg.js":"d707","./th":"883f","./th.js":"883f","./tl-ph":"6cc0","./tl-ph.js":"6cc0","./tlh":"ab53","./tlh.js":"ab53","./tr":"e523","./tr.js":"e523","./tzl":"b192","./tzl.js":"b192","./tzm":"5604","./tzm-latn":"9f95","./tzm-latn.js":"9f95","./tzm.js":"5604","./ug-cn":"9f4f","./ug-cn.js":"9f4f","./uk":"8bd6","./uk.js":"8bd6","./ur":"9a78","./ur.js":"9a78","./uz":"4d4c","./uz-latn":"da73","./uz-latn.js":"da73","./uz.js":"4d4c","./vi":"b766","./vi.js":"b766","./x-pseudo":"2a69","./x-pseudo.js":"2a69","./yo":"fd2e","./yo.js":"fd2e","./zh-cn":"35d0","./zh-cn.js":"35d0","./zh-hk":"7b45","./zh-hk.js":"7b45","./zh-tw":"fa66","./zh-tw.js":"fa66"};function a(t){var e=s(t);return n(e)}function s(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}a.keys=function(){return Object.keys(r)},a.resolve=s,t.exports=a,a.id="77d2"},b775:function(t,e,n){"use strict";n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),a=(n("96cf"),n("3b8d")),s=n("2427"),c=n.n(s);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){Object(r["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function u(){return u=Object(a["a"])(regeneratorRuntime.mark(function t(e){var n,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},t.abrupt("return",c.a.create()(i({url:e},n)).then(function(t){if(t.data&&t.data.success)return t.data;throw new Error("Request Error")}));case 2:case"end":return t.stop()}},t)})),u.apply(this,arguments)}e["a"]=function(t){return u.apply(this,arguments)}},c03a:function(t,e,n){"use strict";var r=n("f8d9"),a=n.n(r);a.a},f8d9:function(t,e,n){}});
//# sourceMappingURL=app.1a5cf45b.js.map