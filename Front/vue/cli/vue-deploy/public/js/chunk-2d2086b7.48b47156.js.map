{"version":3,"sources":["webpack:///./src/views/Login.vue?9d19","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?f597","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","isLogin","attrs","src","userDetail","avatar_url","alt","loginname","_v","_s","githubUsername","createAt","directives","name","rawName","value","expression","type","placeholder","domProps","on","keyup","$event","indexOf","_k","keyCode","key","checkToken","input","target","composing","token","click","staticRenderFns","Loginvue_type_script_lang_js_","data","create_at","score","recent_topics","recent_replies","computed","$store","getters","moment_default","format","watch","val","getUserDetail","methods","dispatch","_this","loading","$loading","fullscreen","Object","users","state","userInfo","accesstoken","then","result","close","success","notify","title","message","msg","catch","e","views_Loginvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"uHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,SAAoB,CAAAN,EAAAO,QAAyhBH,EAAA,OAA6BE,YAAA,aAAwB,CAAAF,EAAA,OAAYI,MAAA,CAAOC,IAAAT,EAAAU,WAAAC,WAAAC,IAAAZ,EAAAU,WAAAG,aAAgET,EAAA,KAAAJ,EAAAc,GAAAd,EAAAe,GAAAf,EAAAU,WAAAG,cAAAT,EAAA,KAAAJ,EAAAc,GAAAd,EAAAe,GAAAf,EAAAU,WAAAM,mBAAAZ,EAAA,KAAAJ,EAAAc,GAAAd,EAAAe,GAAAf,EAAAiB,eAAjqBb,EAAA,OAA2BE,YAAA,eAA0B,CAAAF,EAAA,SAAcc,WAAA,EAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAArB,EAAA,MAAAsB,WAAA,UAAoEd,MAAA,CAASe,KAAA,OAAAC,YAAA,sBAAiDC,SAAA,CAAWJ,MAAArB,EAAA,OAAoB0B,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAA,EAAAL,KAAAM,QAAA,QAAA7B,EAAA8B,GAAAF,EAAAG,QAAA,WAAAH,EAAAI,IAAA,SAAsF,KAAehC,EAAAiC,WAAAL,IAA8BM,MAAA,SAAAN,GAA0BA,EAAAO,OAAAC,YAAsCpC,EAAAqC,MAAAT,EAAAO,OAAAd,WAAgCjB,EAAA,UAAesB,GAAA,CAAIY,MAAAtC,EAAAiC,aAAwB,CAAAjC,EAAAc,GAAA,aACvpByB,EAAA,oCCkBAC,EAAA,CACArB,KAAA,QACAsB,KAFA,WAGA,OACAJ,MAAA,GACA3B,WAAA,CACAG,UAAA,cACAF,WAAA,8DACAK,eAAA,iBACA0B,UAAA,2BACAC,MAAA,EACAC,cAAA,GACAC,eAAA,MAIAC,SAAA,CACAvC,QADA,WAEA,OAAAN,KAAA8C,OAAAC,QAAAzC,SAEAU,SAJA,WAKA,OAAAgC,IAAAhD,KAAAS,WAAAgC,WAAAQ,OAAA,yBAGAC,MAAA,CACA5C,QADA,SACA6C,GACAnD,KAAAoD,kBAGAC,QAAA,CACArB,WADA,WACA,IACAsB,EAAAtD,KAAA8C,OAAAQ,SACAA,EAAA,CACAhC,KAAA,QACAc,MAAApC,KAAAoC,SAGAgB,cARA,WAQA,IAAAG,EAAAvD,KACAwD,EAAAxD,KAAAyD,SAAA,CACAC,YAAA,IAEAC,OAAAC,EAAA,KAAAD,CAAA,CACA/C,UAAAZ,KAAA8C,OAAAe,MAAAC,SAAAlD,UACAmD,YAAA/D,KAAA8C,OAAAe,MAAAE,cACAC,KAAA,SAAAC,GACAT,EAAAU,QACAD,EAAAE,QAQAZ,EAAA9C,WAAAwD,EAAAzB,KAPAe,EAAAa,OAAA,CACA9C,KAAA,QACA+C,MAAA,SACAC,QAAAL,EAAAM,KAAA,eAKAC,MAAA,SAAAC,GACAjB,EAAAU,QACAX,EAAAa,OAAA,CACA9C,KAAA,QACA+C,MAAA,SACAC,QAAAG,EAAAH,SAAA,kBC/E+UI,EAAA,cCO/UC,EAAgBhB,OAAAiB,EAAA,KAAAjB,CACde,EACA5E,EACAwC,GACF,EACA,KACA,KACA,MAIeuC,EAAA,WAAAF","file":"js/chunk-2d2086b7.48b47156.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[(!_vm.isLogin)?_c('div',{staticClass:\"login-panel\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.token),expression:\"token\"}],attrs:{\"type\":\"text\",\"placeholder\":\"please enter token\"},domProps:{\"value\":(_vm.token)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.checkToken($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.token=$event.target.value}}}),_c('button',{on:{\"click\":_vm.checkToken}},[_vm._v(\"登录\")])]):_c('div',{staticClass:\"user-info\"},[_c('img',{attrs:{\"src\":_vm.userDetail.avatar_url,\"alt\":_vm.userDetail.loginname}}),_c('p',[_vm._v(_vm._s(_vm.userDetail.loginname))]),_c('p',[_vm._v(_vm._s(_vm.userDetail.githubUsername))]),_c('p',[_vm._v(_vm._s(_vm.createAt))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login\">\n    <div v-if=\"!isLogin\" class=\"login-panel\">\n      <input type=\"text\" v-model=\"token\" @keyup.enter='checkToken' placeholder=\"please enter token\">\n      <button @click=\"checkToken\">登录</button>\n    </div>\n    <div v-else class=\"user-info\">\n      <img :src=\"userDetail.avatar_url\" :alt=\"userDetail.loginname\">\n      <p>{{ userDetail.loginname }}</p>\n      <p>{{ userDetail.githubUsername }}</p>\n      <p>{{ createAt }}</p>\n    </div>\n  </div>\n</template> \n\n<script>\n\nimport { userDetail } from '../service/users';\nimport moment from 'moment';\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      token: '',\n      userDetail: {\n        \"loginname\":\"xinweishang\",\n        \"avatar_url\":\"https://avatars1.githubusercontent.com/u/11389776?v=4&s=120\",\n        \"githubUsername\":\"wang-jun-coder\",\n        \"create_at\":\"2018-04-09T09:29:41.917Z\",\n        \"score\":0,\n        \"recent_topics\":[],\n        \"recent_replies\":[]\n        }\n    }\n  },\n  computed: {\n    isLogin() {\n      return this.$store.getters.isLogin\n    },\n    createAt() {\n      return moment(this.userDetail.create_at).format('YYYY-MM-DD HH-mm-ss')\n    }\n  },\n  watch: {\n    isLogin(val) {\n      this.getUserDetail();\n    }\n  },\n  methods: {\n    checkToken() {\n      const { dispatch } = this.$store;\n      dispatch({\n        type: 'login',\n        token: this.token\n      });\n    },\n    getUserDetail() {\n      const loading = this.$loading({\n        fullscreen: true\n      });\n      userDetail({\n        loginname: this.$store.state.userInfo.loginname,\n        accesstoken: this.$store.state.accesstoken\n      }).then(result => {\n        loading.close();\n        if(!result.success) {\n          this.notify({\n            type: 'error',\n            title: '获取信息失败',\n            message: result.msg || '获取用户信息失败'\n          });\n          return;\n        }\n        this.userDetail = result.data;\n      }).catch(e => {\n        loading.close();\n        this.notify({\n          type: 'error',\n          title: '获取信息失败',\n          message: e.message || '获取用户信息失败'\n        })\n      })\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=39a87df4&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}